:github_url: https://github.com/solace-iot-team/ansible-solace-collection/tree/main/src/ansible_collections/solace/pubsub_plus/plugins/modules/solace_cloud_get_service.py

.. _solace_cloud_get_service_module:

solace_cloud_get_service -- get Solace Cloud service details
============================================================

Get the Solace Cloud Service details by service id.




Examples
--------

.. code-block:: yaml+jinja

   
     hosts: all
     gather_facts: no
     any_errors_fatal: true
     collections:
       - solace.pubsub_plus
     tasks:
       - set_fact:
           api_token: "{{ SOLACE_CLOUD_API_TOKEN if broker_type=='solace_cloud' else omit }}"
           service_id: "the-service-id"

       - name: "Get service details"
         solace_cloud_get_service:
           api_token: "{{ api_token }}"
           service_id: "{{ service_id }}"
         register: result

       - set_fact:
           service_info: "{{ result.service }}"
           service_name: "{{ result.service.name }}"
           admin_state: "{{ result.service.adminState }}"

       - name: "Save Solace Cloud Service Info to File"
         copy:
           content: "{{ service_info | to_nice_json }}"
           dest: "./tmp/solace_cloud.service_info.{{ service_name }}.json"
         delegate_to: localhost



Notes
-----

.. note::
   - Module Solace Cloud API: https://docs.solace.com/Solace-Cloud/ght_use_rest_api_services.htm


See Also
--------

.. seealso::

   - :ref:`solace_cloud_get_services_module`
   - :ref:`solace_cloud_service_module`
   - :ref:`solace_cloud_get_facts_module`



Parameters
----------

solace_cloud_api_token (required)
  The API Token.

  Generate using Solace Cloud console with the appropriate permissions for the operations you want to enable.

  | **type**: str
  | **aliases**: api_token

solace_cloud_service_id (optional)
  The service id of a service in Solace Cloud.

  Click on the service in Solace Cloud - the service id is in the URL.

  | **type**: str
  | **aliases**: service_id

timeout (optional)
  Connection timeout in seconds for the http request.

  | **type**: int
  | **default**: 60

validate_certs (optional)
  Flag to switch validation of client certificates on/off when using a secure connection.

  | **type**: bool
  | **default**: True





Return Values
-------------

service
  The retrieved service details. Content differs depending on state of service.

  | **returned**: success
  | **type**: dict
  | **sample**:

  .. code-block:: json

     {
     "adminState": "the-admin-state",
     "name": "the-service-name",
     "serviceId": "the-service-id"
   }

msg
  The response from the HTTP call in case of error.

  | **returned**: error
  | **type**: dict

rc
  Return code. rc=0 on success, rc=1 on error.

  | **returned**: always
  | **type**: int
  | **sample**:

  .. code-block:: json

     {
     "error": {
       "rc": 1
     },
     "success": {
       "rc": 0
     }
   }


